{"version":3,"file":"static/js/859.39b78b98.chunk.js","mappings":"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","sources":["components/MoviesList/MoviesListStyled.js","components/MoviesList/MoviesList.jsx","pages/Movies/MoviesStyled.js","pages/Movies/Movies.js","services/getMovies.js"],"sourcesContent":["import { Link } from 'react-router-dom';\nimport styled from 'styled-components';\n\nexport const MovieList = styled.ul`\n  margin-top: 20px;\n  padding-left: 10;\n`;\n\nexport const StyledLink = styled(Link)`\n  font-weight: 500;\n  text-decoration: none;\n`;\n\nexport const MovieTitle = styled.p`\n  margin-bottom: 10px;\n  color: #04284e;\n`;\n","import { useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { StyledLink, MovieList, MovieTitle } from './MoviesListStyled';\n\nconst MoviesList = ({ movies }) => {\n  const location = useLocation();\n\n  return (\n    <MovieList>\n      {movies.map(({ id, title }) => {\n        return (\n          <StyledLink key={id} to={`/movies/${id}`} state={{ from: location }}>\n            <MovieTitle>{title}</MovieTitle>\n          </StyledLink>\n        );\n      })}\n    </MovieList>\n  );\n};\n\nexport default MoviesList;\n\nMoviesList.propTypes = {\n  movies: PropTypes.arrayOf(PropTypes.string),\n  id: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired,\n};\n","import styled from 'styled-components';\n\nexport const Input = styled.input`\n  width: 250px;\n  margin-left: 20px;\n  margin-right: 10px;\n  padding: 8px 10px;\n  border: 2px solid #04284e;\n  border-radius: 5px;\n`;\n\nexport const Button = styled.button`\n  padding: 8px 10px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  background-color: #04284e;\n  color: #fff;\n`;\n","import { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\n\nimport Loader from 'components/Loader/Loader';\nimport { Input, Button } from './MoviesStyled';\n\nimport { getSearchMovie } from 'services/getMovies';\nimport MoviesList from 'components/MoviesList/MoviesList';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const newQuery = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    const fetchSearchMovie = () => {\n      setIsLoading(true);\n      getSearchMovie(newQuery)\n        .then(movies => {\n          return movies.results.map(({ id, title }) => ({\n            id,\n            title,\n          }));\n        })\n        .then(movies => {\n          setMovies(movies);\n        })\n        .catch(error => {\n          console.log(error);\n        })\n        .finally(() => {\n          setIsLoading(false);\n        });\n    };\n    fetchSearchMovie();\n  }, [newQuery]);\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm({\n    defaultValues: {\n      search: '',\n    },\n  });\n\n  const handleSearch = element => {\n    setSearchParams({ query: element.querySearch });\n  };\n\n  return (\n    <div>\n      {isLoading && <Loader />}\n      <form onSubmit={handleSubmit(handleSearch)}>\n        <Input\n          placeholder=\"Enter the name of the movie...\"\n          {...register('querySearch')}\n          defaultValue=\"\"\n        />\n\n        {errors.search && <p>This field is required</p>}\n        <Button type=\"submit\">Search</Button>\n      </form>\n      <MoviesList movies={movies} />\n    </div>\n  );\n};\n\nexport default Movies;\n","const API_KEY = '4b1c3558eb2d79dd671ee6aeceadbb9c';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst TREND = 'trending/movie/day';\nconst MOVIE_DETAILS = 'movie/';\nconst CAST = '/credits';\nconst REVIEWS = '/reviews';\nconst SEARCH = 'search/movie?query=';\n\nexport const getTrendingMovies = () => {\n  return fetch(`${BASE_URL}${TREND}?api_key=${API_KEY}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n\nexport const getMovieDetails = id => {\n  return fetch(`${BASE_URL}${MOVIE_DETAILS}${id}?api_key=${API_KEY}`).then(\n    response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    }\n  );\n};\n\nexport const getCast = id => {\n  return fetch(\n    `${BASE_URL}${MOVIE_DETAILS}${id}${CAST}?api_key=${API_KEY}`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n\nexport const getReviews = id => {\n  return fetch(\n    `${BASE_URL}${MOVIE_DETAILS}${id}${REVIEWS}?api_key=${API_KEY}`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n\nexport const getSearchMovie = query => {\n  return fetch(`${BASE_URL}${SEARCH}${query}&api_key=${API_KEY}`).then(\n    response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    }\n  );\n};\n"],"names":["MovieList","styled","StyledLink","Link","MovieTitle","movies","location","useLocation","map","id","title","to","state","from","Input","Button","useState","setMovies","isLoading","setIsLoading","useSearchParams","searchParams","setSearchParams","newQuery","get","useEffect","getSearchMovie","then","results","catch","error","console","log","finally","useForm","defaultValues","search","register","handleSubmit","errors","formState","Loader","onSubmit","element","query","querySearch","placeholder","defaultValue","type","MoviesList","API_KEY","BASE_URL","MOVIE_DETAILS","getTrendingMovies","fetch","response","ok","Error","status","json","getMovieDetails","getCast","getReviews"],"sourceRoot":""}